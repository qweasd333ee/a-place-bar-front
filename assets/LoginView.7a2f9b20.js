import{Q as U}from"./QImg.81b24e9a.js";import{Q as C,a as p,b as _,c}from"./QTabPanels.188f5078.js";import{Q as V,a as n}from"./QForm.2d251023.js";import{x as z,i as f,$ as b,o as B,B as S,C as t,ao as T,a as i,E as o,Q as g,ap as $,aq as w}from"./index.3b2b2040.js";import{Q as A}from"./QCard.1cc5c4c5.js";import{Q as F}from"./QPage.31ba7ebf.js";import"./index.c4d2c5b3.js";import{v as P}from"./index.dcec9d7a.js";import"./uid.42677368.js";import"./QResizeObserver.5c000103.js";import"./use-tick.87862eb6.js";import"./use-timeout.d39b4a91.js";import"./rtl.b51694b1.js";import"./use-dark.ebf9fd7e.js";import"./touch.70a9dd44.js";import"./selection.751b3c27.js";import"./use-cache.b0833c75.js";import"./focus-manager.d6507951.js";var Z="/a-place-bar-front/assets/pic1.807b83b6.jpeg";const j={class:"bg-left"},k={class:"container"},E={class:"col-12 tab"},I={class:"col-12 column form"},se={__name:"LoginView",setup(N){const v=z(),Q=T(),m=f("\u767B\u5165"),d=f(!1),u=b({account:"",password:""}),s=b({email:"",account:"",password:"",passwordConfirm:""}),r={account:[e=>!!e||"\u6B04\u4F4D\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u9577\u5EA6\u5FC5\u9808\u70BA 4 ~ 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5E33\u865F\u50C5\u80FD\u70BA\u82F1\u6587\u5927\u5C0F\u5BEB\u53CA\u6578\u5B57"],email:[e=>!!e||"\u6B04\u4F4D\u5FC5\u586B",e=>P.exports.isEmail(e)||"\u4FE1\u7BB1\u683C\u5F0F\u932F\u8AA4"],password:[e=>!!e||"\u6B04\u4F4D\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u9577\u5EA6\u5FC5\u9808\u70BA 4 ~ 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5BC6\u78BC\u50C5\u80FD\u70BA\u82F1\u6587\u5927\u5C0F\u5BEB\u53CA\u6578\u5B57"],passwordConfirm:[e=>!!e||"\u6B04\u4F4D\u5FC5\u586B",e=>e.length>=4&&e.length<=20||"\u9577\u5EA6\u5FC5\u9808\u70BA 4 ~ 20 \u500B\u5B57",e=>/^[a-zA-Z0-9]+$/.test(e)||"\u5BC6\u78BC\u50C5\u80FD\u70BA\u82F1\u6587\u5927\u5C0F\u5BEB\u53CA\u6578\u5B57",e=>e===s.password||"\u5BC6\u78BC\u4E0D\u4E00\u81F4"]},x=async()=>{await v.login(u)},y=async()=>{var e,a;try{await $.post("/users",s),await w.fire({icon:"success",title:"\u6210\u529F",text:"\u8A3B\u518A\u6210\u529F"}),Q.push("/")}catch(l){w.fire({icon:"error",title:"\u5931\u6557",text:((a=(e=l==null?void 0:l.response)==null?void 0:e.data)==null?void 0:a.message)||"\u767C\u751F\u932F\u8AA4"})}};return(e,a)=>(B(),S(F,{id:"login-view"},{default:t(()=>[i("div",j,[o(U,{src:Z})]),i("div",k,[o(A,{class:"row"},{default:t(()=>[i("div",E,[o(C,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=l=>m.value=l),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary","narrow-indicator":"",align:"justify"},{default:t(()=>[o(p,{name:"\u767B\u5165",label:"\u767B\u5165"}),o(p,{name:"\u8A3B\u518A",label:"\u8A3B\u518A"})]),_:1},8,["modelValue"])]),i("div",I,[o(_,{modelValue:m.value,"onUpdate:modelValue":a[9]||(a[9]=l=>m.value=l),animated:""},{default:t(()=>[o(c,{name:"\u767B\u5165"},{default:t(()=>[o(V,{modelValue:d.value,"onUpdate:modelValue":a[3]||(a[3]=l=>d.value=l),onSubmit:x,class:"column"},{default:t(()=>[o(n,{dense:"",modelValue:u.account,"onUpdate:modelValue":a[1]||(a[1]=l=>u.account=l),label:"\u5E33\u865F",rules:r.account,maxlength:"20"},null,8,["modelValue","rules"]),o(n,{dense:"",modelValue:u.password,"onUpdate:modelValue":a[2]||(a[2]=l=>u.password=l),label:"\u5BC6\u78BC",rules:r.password,maxlength:"20"},null,8,["modelValue","rules"]),o(g,{dense:"",type:"submit",size:"22px",color:"secondary",label:"\u767B\u5165"})]),_:1},8,["modelValue"])]),_:1}),o(c,{name:"\u8A3B\u518A"},{default:t(()=>[o(V,{modelValue:d.value,"onUpdate:modelValue":a[8]||(a[8]=l=>d.value=l),onSubmit:y,class:"column"},{default:t(()=>[o(n,{dense:"",modelValue:s.account,"onUpdate:modelValue":a[4]||(a[4]=l=>s.account=l),label:"\u5E33\u865F",rules:r.account,maxlength:"20"},null,8,["modelValue","rules"]),o(n,{dense:"",modelValue:s.email,"onUpdate:modelValue":a[5]||(a[5]=l=>s.email=l),label:"\u4FE1\u7BB1",rules:r.email},null,8,["modelValue","rules"]),o(n,{dense:"",modelValue:s.password,"onUpdate:modelValue":a[6]||(a[6]=l=>s.password=l),label:"\u5BC6\u78BC",rules:r.password,maxlength:"20"},null,8,["modelValue","rules"]),o(n,{dense:"",modelValue:s.passwordConfirm,"onUpdate:modelValue":a[7]||(a[7]=l=>s.passwordConfirm=l),label:"\u78BA\u8A8D\u5BC6\u78BC",rules:r.passwordConfirm,maxlength:"20"},null,8,["modelValue","rules"]),o(g,{dense:"",type:"submit",size:"22px",color:"secondary",label:"\u8A3B\u518A"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})])]),_:1}))}};export{se as default};

import{Q as u}from"./QMarkupTable.18613219.js";import{Q as h}from"./QPage.ccae7a9f.js";import{a0 as p,aL as m,at as x,o as s,C as y,D as r,a as t,F as f,c as n,aC as d,aD as _,b as w,aB as l}from"./index.94b621dd.js";import"./use-dark.45a25f8d.js";const k={id:"section01"},v={class:"container"},g={class:"row"},D=t("div",{class:"col-12 text-center text-white text-h3 text"},"\u8A02\u9910\u7BA1\u7406",-1),B={class:"col-12"},C=t("thead",{class:"text-center"},[t("tr",null,[t("th",null,"ID"),t("th",null,"\u65E5\u671F"),t("th",null,"\u4F7F\u7528\u8005"),t("th",null,"\u91D1\u984D"),t("th",null,"\u5546\u54C1")])],-1),Q={class:"text-center"},V={key:0},b=t("td",{class:"text-center text-h6",colspan:"8"},"\u6C92\u6709\u8A02\u9910",-1),L=[b],A={__name:"OrdersView",setup(N){const o=p([]);return(async()=>{try{const{data:i}=await m.get("/orders/all");o.push(...i.result.map(c=>(c.totalPrice=c.products.reduce((e,a)=>e+a.p_id.price*a.quantity,0),c)))}catch{x.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u8A02\u55AE\u5931\u6557"})}})(),(i,c)=>(s(),y(h,{id:"admin-orders-view"},{default:r(()=>[t("section",k,[t("div",v,[t("div",g,[D,t("div",B,[f(u,null,{default:r(()=>[C,t("tbody",Q,[(s(!0),n(_,null,d(o,e=>(s(),n("tr",{key:e._id},[t("td",null,l(e._id),1),t("td",null,l(new Date(e.date).toLocaleDateString()),1),t("td",null,l(e.u_id.account),1),t("td",null,l(e.totalPrice),1),t("td",null,[(s(!0),n(_,null,d(e.products,a=>(s(),n("div",{key:a._id},l(a.p_id.name+" * "+a.quantity),1))),128))])]))),128)),o.length===0?(s(),n("tr",V,L)):w("",!0)])]),_:1})])])])])]),_:1}))}};export{A as default};
